(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2937:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.t.bind(a,3063,23)),Promise.resolve().then(a.bind(a,9704)),Promise.resolve().then(a.bind(a,4838))},4838:(e,t,a)=>{"use strict";a.d(t,{DropdownMenu:()=>c,DropdownMenuContent:()=>u,DropdownMenuItem:()=>p,DropdownMenuTrigger:()=>m});var s=a(5853),r=a(2115),o=a(1305),l=a(3158),n=a(518),i=a(154),d=a(9434);let c=o.bL,m=o.l9;o.YJ,o.ZL,o.Pb,o.z6,r.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...i}=e;return(0,s.FD)(o.ZP,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[n,(0,s.Y)(l.A,{className:"ml-auto"})]})}).displayName=o.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(o.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}).displayName=o.G5.displayName;let u=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.Y)(o.ZL,{children:(0,s.Y)(o.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...l})})});u.displayName=o.UC.displayName;let p=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.Y)(o.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",a),...l})});p.displayName=o.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:l,...i}=e;return(0,s.FD)(o.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,s.Y)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.Y)(o.VF,{children:(0,s.Y)(n.A,{className:"h-4 w-4"})})}),r]})}).displayName=o.H_.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.FD)(o.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.Y)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.Y)(o.VF,{children:(0,s.Y)(i.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=o.hN.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.Y)(o.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})}).displayName=o.JU.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(o.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=o.wv.displayName},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>o});var s=a(2596),r=a(9688);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},9704:(e,t,a)=>{"use strict";a.d(t,{MainFlow:()=>T});var s=a(5853),r=a(2115),o=a(6766),l=a(9708),n=a(2085),i=a(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:n=!1,...c}=e,m=n?l.DX:"button";return(0,s.Y)(m,{className:(0,i.cn)(d({variant:r,size:o,className:a})),ref:t,...c})});function m(e){let{id:t,onAddressSelect:a,placeholder:o="Enter your address",className:l}=e,n=(0,r.useRef)(null),i=(0,r.useRef)(null),d=(0,r.useRef)(null);return(0,r.useEffect)(()=>((async()=>{try{var e,t,s,r,o;if(window.initMap||(window.initMap=()=>{console.log("Google Maps loaded successfully")}),!(null==(t=window.google)||null==(e=t.maps)?void 0:e.places)&&!document.querySelector('script[src*="maps.googleapis.com"]')){let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat("","&libraries=places&callback=initMap"),e.async=!0,d.current=e,document.head.appendChild(e),await new Promise((t,a)=>{e.onload=()=>t(),e.onerror=()=>a(Error("Failed to load Google Maps script"))})}if(await new Promise(e=>setTimeout(e,100)),!(null==(o=window.google)||null==(r=o.maps)||null==(s=r.places)?void 0:s.Autocomplete)||!n.current)throw Error("Google Maps Places library not available or input not mounted");let l=new window.google.maps.places.Autocomplete(n.current,{componentRestrictions:{country:"us"},fields:["address_components","formatted_address","geometry","name"]});i.current=l;let c=new window.google.maps.LatLngBounds(new window.google.maps.LatLng(36.0219,-115.3129),new window.google.maps.LatLng(36.3179,-114.9669));l.setBounds(c),l.addListener("place_changed",()=>{var e,t,s,r;let o=l.getPlace();if(!o||!o.address_components)return void alert("No place selected or incomplete data");let n=o.formatted_address||o.name||"",i=e=>{var t;let a=null==(t=o.address_components)?void 0:t.find(t=>t.types.includes(e));return(null==a?void 0:a.long_name)||""},d={fullAddress:n,streetNumber:i("street_number"),unitNumber:(()=>{var e;let t=null==(e=o.address_components)?void 0:e.find(e=>e.types.includes("subpremise"));return(null==t?void 0:t.long_name)||""})(),route:i("route"),city:i("locality")||i("administrative_area_level_2"),state:i("administrative_area_level_1"),country:i("country"),zipcode:i("postal_code"),latitude:null==(t=o.geometry)||null==(e=t.location)?void 0:e.lat(),longitude:null==(r=o.geometry)||null==(s=r.location)?void 0:s.lng()};console.log("Selected place from traditional autocomplete:",d),a(n,d)}),console.log("Traditional Google Places Autocomplete initialized")}catch(e){alert("Failed to initialize traditional autocomplete. Please check your internet connection and API key."),console.error("Failed to initialize traditional autocomplete:",e)}})(),()=>{if(i.current){var e,t;null==(t=window.google)||null==(e=t.maps)||e.event.clearInstanceListeners(i.current),i.current=null}d.current&&(document.head.removeChild(d.current),d.current=null)}),[a]),(0,s.Y)("input",{ref:n,type:"text",placeholder:o,className:"w-full h-9 py-2 px-3 text-sm border border-gray-300 rounded-md outline-none transition-all focus:border-green-600 focus:ring-2 focus:ring-green-600/20 bg-transparent ".concat(l||""," box-border"),"aria-autocomplete":"list",role:"combobox",autoComplete:"off","aria-controls":void 0,"aria-expanded":!1,id:t})}c.displayName="Button";var u=a(2177);function p(e){let{onAddressSubmit:t}=e,{register:a,handleSubmit:l,formState:{errors:n},setValue:i}=(0,u.mN)({}),[d,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(void 0),[f,b]=(0,r.useState)(void 0),[y,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{g&&f?x(g,f):v(null)},[g,f]);let x=(e,t)=>{console.error("Google Maps API key is missing.  Please set the NEXT_PUBLIC_GOOGLE_MAPS_API_KEY environment variable."),v(null)};return(0,s.Y)("section",{className:"min-h-[80vh] flex items-center justify-center px-6 py-20 bg-cover bg-center",style:{backgroundImage:"url('https://truepricereport.s3.us-west-1.amazonaws.com/Homepagetruepricereportimage.jpeg')"},children:(0,s.FD)("div",{className:"bg-white bg-opacity-90 rounded-2xl p-12 max-w-2xl w-full text-center shadow-lg",children:[(0,s.Y)("div",{className:"mb-8",children:(0,s.Y)(o.default,{src:"https://truepricereport.s3.us-west-1.amazonaws.com/truepricereportlogo.png",alt:"True Price Report",width:200,height:60,className:"h-16 w-auto mx-auto mb-8"})}),(0,s.Y)("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Get Your FREE Report to find out:"}),(0,s.FD)("ul",{className:"text-left text-gray-700 space-y-2 mb-10 max-w-lg mx-auto text-base leading-relaxed",children:[(0,s.Y)("li",{children:"• What's My Home Worth Today?"}),(0,s.Y)("li",{children:"• How Is the Market Affecting My Property Value?"}),(0,s.Y)("li",{children:"• What could I walk away with if I sold it on the Market?"}),(0,s.Y)("li",{children:"• Will my home profit as a rental?"}),(0,s.Y)("li",{children:"• What Would a Cash Offer Look Like?"})]}),(0,s.FD)("form",{onSubmit:l(e=>{let a=window.selectedAddressDetails;if(e.address)if(a)t(e.address,a,y);else if(g&&f){let a={fullAddress:e.address,streetNumber:"",route:"",unitNumber:"",city:"",state:"",country:"",zipcode:"",latitude:g,longitude:f};t(e.address,a,y)}else t(e.address,void 0,y);else{let e=document.querySelector("input");t(((null==e?void 0:e.value)||"Demo Property Address").trim(),void 0,y)}}),className:"flex flex-col gap-3 max-w-lg mx-auto",children:[(0,s.FD)("div",{className:"flex-1",children:[y&&(0,s.Y)("div",{className:"mb-4",children:(0,s.Y)("img",{src:y,alt:"Street View of the address",className:"shadow-md rounded-md w-full"})}),(0,s.FD)("label",{htmlFor:"address",children:[" ",n.address&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(m,{id:"address",onAddressSelect:(e,t)=>{p(e),i("address",e),console.log("Selected address:",e),e?(e=>{if(!window.google||!window.google.maps||!window.google.maps.Geocoder){console.error("Google Maps Geocoder not loaded."),v(null);return}new window.google.maps.Geocoder().geocode({address:e},(e,t)=>{if("OK"===t&&e&&e[0]){let t=e[0].geometry.location;h(t.lat()),b(t.lng())}else console.error("Geocode was not successful for Street View: "+t),v(null)})})(e):(h(void 0),b(void 0),v(null)),t?window.selectedAddressDetails=t:window.selectedAddressDetails=void 0},placeholder:"Enter your home address",className:"w-full h-12 px-4 text-base border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#0f6c0c] focus:border-transparent",...a("address",{required:"Address is required"})}),n.address&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:n.address.message})]}),(0,s.Y)(c,{type:"submit",className:"bg-[#0f6c0c] hover:bg-[#0d5a0a] text-white h-12 px-8 rounded font-medium whitespace-nowrap",children:"Submit"})]})]})})}let g=r.forwardRef((e,t)=>{let{className:a,type:r,...o}=e;return(0,s.Y)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus:border-green-600 focus:ring-2 focus:ring-green-600/20 focus-visible:ring-green-600/20 focus-visible:border-green-600",a),ref:t,...o})});g.displayName="Input";var h=a(968);let f=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(h.b,{ref:t,className:(0,i.cn)(f(),a),...r})});b.displayName=h.b.displayName;var y=a(965),v=a(3158);function x(e){let{address:t,className:a="",latitude:o,longitude:l,streetViewUrl:n}=e,i=(0,r.useRef)(null),d=(0,r.useRef)(null),[m,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)("map");(0,r.useEffect)(()=>{let e=()=>{window.google&&u(!0)};return e(),window.addEventListener("load",e),()=>window.removeEventListener("load",e)},[]),(0,r.useEffect)(()=>{if(m&&i.current&&!d.current)try{let e=new google.maps.Map(i.current,{zoom:15,center:o&&l?{lat:o,lng:l}:{lat:34.0522,lng:-118.2437},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});d.current=e,t&&t.trim()&&!o&&!l?new google.maps.Geocoder().geocode({address:t},(a,s)=>{if("OK"===s&&a&&a[0]){let s=a[0].geometry.location;e.setCenter(s),new google.maps.Marker({position:s,map:e,title:t,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new google.maps.Size(32,32)}})}}):o&&l&&new google.maps.Marker({position:{lat:o,lng:l},map:e,title:t,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new google.maps.Size(32,32)}})}catch(e){console.error("Error initializing Google Map:",e)}},[m,t,o,l]),(0,r.useEffect)(()=>{let e;return n&&(e=setInterval(()=>{g(e=>"map"===e?"street":"map")},5e3)),()=>clearInterval(e)},[n]);let h=()=>{g(e=>"map"===e?"street":"map")};return m?(0,s.FD)("div",{className:"relative w-full h-64 rounded-lg overflow-hidden ".concat(a),style:{minHeight:"250px"},children:[(0,s.Y)("div",{ref:i,className:"w-full h-full transition-opacity duration-500 ".concat("map"===p?"opacity-100":"opacity-0")}),n&&(0,s.Y)("img",{src:n,alt:"Street View of the address",className:"absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-500 ".concat("street"===p?"opacity-100":"opacity-0")}),n&&(0,s.FD)(s.FK,{children:[(0,s.Y)(c,{variant:"ghost",size:"icon",onClick:h,className:"absolute top-1/2 left-2 -translate-y-1/2 text-white bg-black bg-opacity-30 hover:bg-opacity-50",children:(0,s.Y)(y.A,{className:"h-6 w-6"})}),(0,s.Y)(c,{variant:"ghost",size:"icon",onClick:h,className:"absolute top-1/2 right-2 -translate-y-1/2 text-white bg-black bg-opacity-30 hover:bg-opacity-50",children:(0,s.Y)(v.A,{className:"h-6 w-6"})})]})]}):(0,s.Y)("div",{className:"w-full h-64 rounded-lg border border-gray-300 ".concat(a),style:{minHeight:"250px"},children:(0,s.Y)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"2px solid #ddd"},children:(0,s.FD)("div",{style:{textAlign:"center",color:"#666"},children:[(0,s.Y)("div",{style:{fontSize:"48px",marginBottom:"8px"},children:"\uD83D\uDDFA️"}),(0,s.Y)("div",{style:{fontWeight:"bold"},children:"Map Location"}),(0,s.Y)("div",{style:{fontSize:"12px",marginTop:"4px"},children:t||"Address location"})]})})})}var N=a(221),w=a(8309);let Y=w.Ik({streetAddress:w.Yj().min(1,{message:"Street address is required"}).max(100,{message:"Street address cannot exceed 100 characters"}),unitNumber:w.Yj().optional(),city:w.Yj().min(1,{message:"City is required"}).max(100,{message:"City cannot exceed 100 characters"}),state:w.Yj().min(1,{message:"State is required"}).max(100,{message:"State cannot exceed 100 characters"}),country:w.Yj().min(1,{message:"Country is required"}).max(100,{message:"Country cannot exceed 100 characters"}),zipcode:w.Yj().min(5,{message:"Zip code must be at least 5 digits"}).max(5,{message:"Zip code cannot exceed 5 digits"}).regex(/^\d{5}$/,{message:"Invalid zip code format (e.g., 12345)"})});function F(e){var t,a,l,n,i,d;let{formData:p,updateFormData:h,onNext:f,selectedAddress:y,updateSelectedAddress:v,onStep1NextSubmit:w,latitude:F,placeDetails:S,longitude:A,streetViewUrl:D,onAddressUpdate:L}=e,[C,P]=(0,r.useState)("Update Address"),[z,U]=(0,r.useState)("bg-blue-600 hover:bg-blue-700"),[R,I]=(0,r.useState)(!1),{register:k,handleSubmit:E,formState:{errors:_},setValue:V,getValues:j,control:q}=(0,u.mN)({resolver:(0,N.u)(Y),defaultValues:{streetAddress:(null==(t=p.step1)?void 0:t.streetAddress)||"",unitNumber:(null==(a=p.step1)?void 0:a.unitNumber)||"",city:(null==(l=p.step1)?void 0:l.city)||"",state:(null==(n=p.step1)?void 0:n.state)||"",country:(null==(i=p.step1)?void 0:i.country)||"USA",zipcode:(null==(d=p.step1)?void 0:d.zipcode)||""}});(0,r.useEffect)(()=>{console.log("Step1Log-formData.step1 changed, updating form values:",p.step1),p.step1&&Object.keys(p.step1).length>0?(V("streetAddress",p.step1.streetAddress||""),V("unitNumber",p.step1.unitNumber||""),V("city",p.step1.city||""),V("state",p.step1.state||""),V("zipcode",p.step1.zipcode||""),V("country",p.step1.country||"USA")):S?(V("streetAddress","".concat(S.streetNumber," ").concat(S.route).concat(S.unitNumber?" #".concat(S.unitNumber):"")),V("unitNumber",S.unitNumber||""),V("city",S.city||""),V("state",S.state||""),V("zipcode",S.zipcode||""),V("country",S.country||"USA")):V("streetAddress",y||"")},[p.step1,V,y,S]);let M=async()=>{console.log("Step1Log-Verifying address..."),P("Address Updated 10"),U("bg-green-600 hover:bg-green-700"),I(!0);let e=10,t=setInterval(()=>{e--,P("Address Updated ".concat(e)),0===e&&(clearInterval(t),P("Update Address Again"),U("bg-blue-600 hover:bg-blue-700"),I(!1))},1e3),a=j();console.log("Step1Log-Current form values for verification:",a),V("streetAddress",a.streetAddress),V("unitNumber",a.unitNumber),V("city",a.city),V("state",a.state),V("zipcode",a.zipcode),V("country",a.country);let s="".concat(a.streetAddress).concat(a.unitNumber?" #".concat(a.unitNumber):"",", ").concat(a.city,", ").concat(a.state," ").concat(a.zipcode,", ").concat(a.country);console.log("Step1Log-Full address for geocoding:",s),window.google?new google.maps.Geocoder().geocode({address:s},(e,t)=>{if("OK"===t&&e&&e[0]){console.log("Step1Log-Geocoding successful:",e);let t=e[0].geometry.location,r=t.lat();L({latitude:r,longitude:t.lng(),streetViewUrl:null}),v(s),console.log("Step1Log-Address updated with new coordinates and Street View URL."),h({step1:{...a}})}else console.error("Step1Log-Geocoding failed:",t,e),alert("Could not verify the address. Please check the details and try again.")}):(console.warn("Step1Log-Google Maps API not loaded."),alert("Google Maps is not available. Please try again later."))},B=async e=>{console.log("Step1Log-Proceeding to next step with form data:",e),console.log("Step1Log-Full address to update selectedAddress:","".concat(e.streetAddress).concat(e.unitNumber?" #".concat(e.unitNumber):"",", ").concat(e.city,", ").concat(e.state," ").concat(e.zipcode,", ").concat(e.country));let t={...e,streetAddress:"".concat(e.streetAddress).concat(e.unitNumber?" #".concat(e.unitNumber):"")};console.log("Step1Log-Final address object for submission:",t),console.log("Step1Log-Final streetAddress for submission:",t.streetAddress),w(t),h({step1:t}),f(),console.log("Step1Log-Step1 form submitted and data updated.")};return(0,s.Y)("div",{className:"min-h-[80vh] flex items-center justify-center px-6 py-20 bg-cover bg-center",style:{backgroundImage:"url('https://truepricereport.s3.us-west-1.amazonaws.com/Homepagetruepricereportimage.jpeg')"},children:(0,s.FD)("div",{className:"bg-white bg-opacity-90 rounded-2xl p-12 max-w-2xl w-full",children:[(0,s.FD)("div",{className:"text-center mb-8",children:[(0,s.Y)(o.default,{src:"https://truepricereport.s3.us-west-1.amazonaws.com/truepricereportlogo.png",alt:"True Price Report",width:200,height:60,className:"h-16 w-auto mx-auto mb-6"}),(0,s.Y)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"This is Your Home, Correct?"}),(0,s.Y)("h2",{className:"text-xl text-[#0f6c0c] mb-8",children:y||"Please confirm your address"})]}),(0,s.Y)("div",{className:"mb-8",children:(0,s.Y)(x,{address:y,latitude:F,longitude:A,className:"shadow-md",streetViewUrl:D},y)}),(0,s.Y)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Step 1: Confirm Address"}),(0,s.FD)("form",{onSubmit:E(B),className:"space-y-4",children:[(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"streetAddress",className:"text-gray-700 font-medium",children:["Street Address",_.streetAddress&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(m,{id:"streetAddress",onAddressSelect:(e,t)=>{console.log("Step1Log-Autocomplete selected:",e,t),v(e),t&&(V("streetAddress","".concat(t.streetNumber," ").concat(t.route).concat(t.unitNumber?" #".concat(t.unitNumber):"")),V("unitNumber",t.unitNumber||""),V("city",t.city||""),V("state",t.state||""),V("zipcode",t.zipcode||""),V("country",t.country||"USA"),M())},placeholder:"Update or confirm your home address",className:"w-full h-12 px-4 text-base border border-gray-300 rounded-md outline-none transition-all focus:border-green-600 focus:ring-2 focus:ring-green-600/20 mt-1"}),_.streetAddress&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:_.streetAddress.message})]}),(0,s.FD)("div",{children:[(0,s.Y)(b,{htmlFor:"unitNumber",className:"text-gray-700 font-medium",children:"Unit Number (Optional)"}),(0,s.Y)(g,{id:"unitNumber",className:"mt-1",...k("unitNumber")})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"city",className:"text-gray-700 font-medium",children:["City",_.city&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(g,{id:"city",className:"mt-1",...k("city")}),_.city&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:_.city.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"state",className:"text-gray-700 font-medium",children:["State",_.state&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(g,{id:"state",className:"mt-1",...k("state")}),_.state&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:_.state.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"country",className:"text-gray-700 font-medium",children:["Country",_.country&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(g,{id:"country",className:"mt-1",...k("country")}),_.country&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:_.country.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"zipcode",className:"text-gray-700 font-medium",children:["Zipcode",_.zipcode&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(g,{id:"zipcode",className:"mt-1",...k("zipcode")}),_.zipcode&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:_.zipcode.message})]}),(0,s.Y)(c,{type:"button",onClick:M,className:"w-full ".concat(z," text-white px-8 py-3 rounded-md font-medium"),disabled:R,children:C}),(0,s.Y)(c,{type:"submit",className:"bg-[#0f6c0c] hover:bg-[#0d5a0a] text-white px-8 py-3 rounded-md font-medium mt-8 w-full disabled:bg-gray-400",children:"CONFIRM"}),(0,s.Y)("p",{className:"text-sm text-gray-600 mt-6",children:"By submitting my information in this form, I agree to be contacted by licensed providers. I also agree to be contacted via call or text manual and/or automatic to my cell phone provided, in order to receive the information requested above."})]})]})})}var S=a(8893),A=a(9556),D=a(7381),L=a(518);let C=S.bL;S.YJ;let P=S.WT,z=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.FD)(S.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[r,(0,s.Y)(S.In,{asChild:!0,children:(0,s.Y)(A.A,{className:"h-4 w-4 opacity-50"})})]})});z.displayName=S.l9.displayName;let U=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(S.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.Y)(D.A,{className:"h-4 w-4"})})});U.displayName=S.PP.displayName;let R=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(S.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.Y)(A.A,{className:"h-4 w-4"})})});R.displayName=S.wn.displayName;let I=r.forwardRef((e,t)=>{let{className:a,children:r,position:o="popper",...l}=e;return(0,s.Y)(S.ZL,{children:(0,s.FD)(S.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...l,children:[(0,s.Y)(U,{}),(0,s.Y)(S.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.Y)(R,{})]})})});I.displayName=S.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(S.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=S.JU.displayName;let k=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.FD)(S.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.Y)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.Y)(S.VF,{children:(0,s.Y)(L.A,{className:"h-4 w-4"})})}),(0,s.Y)(S.p4,{children:r})]})});k.displayName=S.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(S.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=S.wv.displayName;let E=w.Ik({beds:w.Yj().min(1,{message:"Number of beds is required"}),baths:w.Yj().min(1,{message:"Number of baths is required"}),yearBuilt:w.Yj().min(1,{message:"Year built is required"}),squareFoot:w.Yj().min(1,{message:"Square footage is required"}),unitNumber:w.Yj().nullable()});function _(e){var t,a,l,n,i;let{formData:d,updateFormData:m,onNext:p,onPrevious:g,selectedAddress:h,unitNumbers:f,latitude:y,longitude:v,streetViewUrl:x}=e,{register:w,handleSubmit:Y,formState:{errors:F},control:S,setValue:A}=(0,u.mN)({resolver:(0,N.u)(E),defaultValues:{beds:(null==(t=d.step2)?void 0:t.beds)||"",baths:(null==(a=d.step2)?void 0:a.baths)||"",yearBuilt:(null==(l=d.step2)?void 0:l.yearBuilt)||"",squareFoot:(null==(n=d.step2)?void 0:n.squareFoot)||"",unitNumber:(null==(i=d.step2)?void 0:i.unitNumber)||null}});(0,r.useEffect)(()=>{console.log("Unit numbers updated:",f)},[f]);let D=e=>{m({step2:e}),p()},L=["1","2","3","4","5","6","7","8","9+"],U=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6","6.5","7","7.7","8","8.5","9+"],R=Array.from({length:124},(e,t)=>String(2025-t)),_=["500-1000","1000-1500","1500-2000","2000-2500","2500-3000","3000+"];return(0,s.Y)("div",{className:"min-h-[80vh] flex items-center justify-center px-6 py-20 bg-cover bg-center",style:{backgroundImage:"url('https://truepricereport.s3.us-west-1.amazonaws.com/Homepagetruepricereportimage.jpeg')"},children:(0,s.FD)("div",{className:"bg-white bg-opacity-90 rounded-2xl p-12 max-w-2xl w-full",children:[(0,s.Y)("div",{className:"text-center mb-8",children:(0,s.Y)(o.default,{src:"https://truepricereport.s3.us-west-1.amazonaws.com/truepricereportlogo.png",alt:"True Price Report",width:200,height:60,className:"h-16 w-auto mx-auto mb-6"})}),(0,s.Y)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Step 2: Home Basics"}),x&&(0,s.Y)("div",{className:"mb-8",children:(0,s.Y)("img",{src:x,alt:"Street View of the address",className:"shadow-md rounded-md"})}),(0,s.FD)("form",{onSubmit:Y(D),className:"space-y-6",children:[(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"yearBuilt",className:"text-gray-700 font-medium",children:["Year Built"," ",F.yearBuilt&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"yearBuilt",control:S,render:e=>{let{field:t}=e;return(0,s.FD)(C,{value:t.value,onValueChange:t.onChange,children:[(0,s.Y)(z,{className:"mt-1",children:(0,s.Y)(P,{placeholder:"Select year built"})}),(0,s.Y)(I,{children:R.map(e=>(0,s.Y)(k,{value:e,children:e},e))})]})}}),F.yearBuilt&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:F.yearBuilt.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"squareFoot",className:"text-gray-700 font-medium",children:["Square Footage"," ",F.squareFoot&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"squareFoot",control:S,render:e=>{let{field:t}=e;return(0,s.FD)(C,{value:t.value,onValueChange:t.onChange,children:[(0,s.Y)(z,{className:"mt-1",children:(0,s.Y)(P,{placeholder:"Select square foot"})}),(0,s.Y)(I,{children:_.map(e=>(0,s.Y)(k,{value:e,children:e},e))})]})}}),F.squareFoot&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:F.squareFoot.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"beds",className:"text-gray-700 font-medium",children:["Beds"," ",F.beds&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"beds",control:S,render:e=>{let{field:t}=e;return(0,s.FD)(C,{value:t.value,onValueChange:t.onChange,children:[(0,s.Y)(z,{className:"mt-1",children:(0,s.Y)(P,{placeholder:"Select number of bedrooms"})}),(0,s.Y)(I,{children:L.map(e=>(0,s.Y)(k,{value:e,children:e},e))})]})}}),F.beds&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:F.beds.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"baths",className:"text-gray-700 font-medium",children:["Baths"," ",F.baths&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"baths",control:S,render:e=>{let{field:t}=e;return(0,s.FD)(C,{value:t.value,onValueChange:t.onChange,children:[(0,s.Y)(z,{className:"mt-1",children:(0,s.Y)(P,{placeholder:"Select number of bathrooms"})}),(0,s.Y)(I,{children:U.map(e=>(0,s.Y)(k,{value:e,children:e},e))})]})}}),F.baths&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:F.baths.message})]}),f&&f.length>0&&(0,s.FD)("div",{children:[(0,s.Y)(b,{htmlFor:"unitNumber",className:"text-gray-700 font-medium",children:"Unit Number"}),(0,s.Y)(u.xI,{name:"unitNumber",control:S,render:e=>{let{field:t}=e;return(0,s.FD)(C,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.Y)(z,{className:"mt-1",children:(0,s.Y)(P,{placeholder:"Select unit number"})}),(0,s.Y)(I,{children:f.map(e=>(0,s.Y)(k,{value:e,children:e},e))})]})}})]})]}),(0,s.FD)("div",{className:"flex flex-wrap gap-4 mt-8",children:[(0,s.Y)(c,{onClick:g,variant:"outline",className:"flex-1 px-8 py-3 rounded-md font-medium",children:"Previous"}),(0,s.Y)(c,{onClick:Y(D),className:"bg-[#0f6c0c] hover:bg-[#0d5a0a] text-white flex-1 px-8 py-3 rounded-md font-medium disabled:bg-gray-400",children:"Next"})]})]})})}let V=w.Ik({firstName:w.Yj().min(1,{message:"First name is required"}).max(50,{message:"First name cannot exceed 50 characters"}),lastName:w.Yj().min(1,{message:"Last name is required"}).max(50,{message:"Last name cannot exceed 50 characters"}),phone:w.Yj().regex(/^(?:\+1)?\d{10}$|^\d{10}$/,{message:"Invalid phone number format (e.g., +1(xxx)xxx-xxxx)"}).nonempty({message:"Phone number is required"}),email:w.Yj().email({message:"Invalid email format"})});function j(e){let{formData:t,updateFormData:a,onSubmit:l,onPrevious:n,selectedAddress:i,latitude:d,longitude:m,streetViewUrl:p,sendLeadToBrivity:h}=e,{register:f,handleSubmit:y,formState:{errors:v},control:x}=(0,u.mN)({resolver:(0,N.u)(V),defaultValues:(0,r.useMemo)(()=>{var e,a,s,r;return{firstName:(null==(e=t.step3)?void 0:e.firstName)||"",lastName:(null==(a=t.step3)?void 0:a.lastName)||"",phone:(null==(s=t.step3)?void 0:s.phone)||"",email:(null==(r=t.step3)?void 0:r.email)||""}},[t.step3])}),w=async e=>{console.log("Step3 form valid and submitting data:",e),a({step3:e}),h({lead_type:"lead from webpage trueprice report",status:"new",source:"TruepriceReport",first_name:e.firstName,last_name:e.lastName,email:e.email,phone:e.phone,street_address:t.step1.streetAddress,city:t.step1.city,locality:t.step1.state,postal_code:t.step1.zipcode,country:t.step1.country,description:"Property Details - Bedrooms: ".concat(t.step2.beds,", Bathrooms: ").concat(t.step2.baths,", Year Built: ").concat(t.step2.yearBuilt,", Square Foot: ").concat(t.step2.squareFoot," Price Estimate: ").concat(t.step1.priceEstimate,", Low Estimate: ").concat(t.step1.lowEstimate,", High Estimate: ").concat(t.step1.highEstimate).concat(t.step2.unitNumber?", Unit Number: "+t.step2.unitNumber:"")}),l(),console.log("Step3 data updated and proceeding to final submission.")};return(0,s.Y)("div",{className:"min-h-[80vh] flex items-center justify-center px-6 py-20 bg-cover bg-center",style:{backgroundImage:"url('https://truepricereport.s3.us-west-1.amazonaws.com/Homepagetruepricereportimage.jpeg')"},children:(0,s.FD)("div",{className:"bg-white bg-opacity-90 rounded-2xl p-12 max-w-2xl w-full",children:[(0,s.Y)("div",{className:"text-center mb-8",children:(0,s.Y)(o.default,{src:"https://truepricereport.s3.us-west-1.amazonaws.com/truepricereportlogo.png",alt:"True Price Report",width:200,height:60,className:"h-16 w-auto mx-auto mb-6"})}),(0,s.Y)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Step 3: Confirm Your Information"}),p&&(0,s.Y)("div",{className:"mb-8",children:(0,s.Y)("img",{src:p,alt:"Street View of the address",className:"shadow-md rounded-md"})}),(0,s.FD)("form",{onSubmit:y(w),className:"space-y-4",children:[(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"firstName",className:"text-gray-700 font-medium",children:["First Name"," ",v.firstName&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"firstName",control:x,render:e=>{let{field:t}=e;return(0,s.Y)(g,{id:"firstName",className:"mt-1",value:t.value,onChange:t.onChange})}}),v.firstName&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:v.firstName.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"lastName",className:"text-gray-700 font-medium",children:["Last Name"," ",v.lastName&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"lastName",control:x,render:e=>{let{field:t}=e;return(0,s.Y)(g,{id:"lastName",className:"mt-1",value:t.value,onChange:t.onChange})}}),v.lastName&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:v.lastName.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"phone",className:"text-gray-700 font-medium",children:["Phone"," ",v.phone&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"phone",control:x,render:e=>{let{field:t}=e;return(0,s.Y)(g,{id:"phone",type:"tel",className:"mt-1",value:t.value,onChange:t.onChange})}}),v.phone&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:v.phone.message})]}),(0,s.FD)("div",{children:[(0,s.FD)(b,{htmlFor:"email",className:"text-gray-700 font-medium",children:["Email"," ",v.email&&(0,s.Y)("span",{className:"text-gray-500",children:"*"})]}),(0,s.Y)(u.xI,{name:"email",control:x,render:e=>{let{field:t}=e;return(0,s.Y)(g,{id:"email",type:"email",className:"mt-1",value:t.value,onChange:t.onChange})}}),v.email&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:v.email.message})]})]}),(0,s.FD)("div",{className:"flex flex-wrap gap-4 mt-8",children:[(0,s.Y)(c,{onClick:()=>{console.log("Previous button clicked in Step3."),n()},variant:"outline",className:"flex-1 px-8 py-3 rounded-md font-medium",children:"Previous"}),(0,s.Y)(c,{onClick:()=>{console.log("Submit button clicked in Step3."),y(w)()},className:"bg-[#0f6c0c] hover:bg-[#0d5a0a] text-white flex-1 px-8 py-3 rounded-md font-medium disabled:bg-gray-400",children:"Submit"})]}),(0,s.Y)("p",{className:"text-sm text-gray-600 mt-6",children:"By submitting my information in this form, I agree to be contacted by licensed providers. I also agree to be contacted via call or text manual and/or automatic to my cell phone provided, in order to receive the information requested above."}),(0,s.Y)("p",{className:"text-sm text-gray-600 mt-4",children:"Upon submission of your information, you will be directed to a home value report sponsored by a Nevada based licensed Sponsor of TruePriceReport to obtain feedback, verify accuracy, answer specific questions related to the report. If you are not based in Nevada or researching Real Estate out of Nevada you may request a local Licensee when contacted. You may opt out of contact at any time. The report is generated using several data aggregators of public information and cannot be guaranteed to be accurate, which is why we will call to correct if you feel price is inaccurate, however the automatic price should not be relied upon for making any financial decisions."})]})})}let q=w.Ik({message:w.Yj().max(300,{message:"Message must be less than 300 characters."})});function M(e){let{onUpdateDescription:t,popupTitle:a,onClose:o,defaultMessage:l,isValuationUnavailable:n}=e,{register:i,handleSubmit:d,formState:{errors:m},setValue:p,watch:g}=(0,u.mN)({resolver:(0,N.u)(q),defaultValues:{message:l}});(0,r.useEffect)(()=>{p("message",l)},[l,p]);let h=g("message");return(0,s.Y)("div",{className:"fixed top-0 left-0 w-full h-full bg-gray-500 bg-opacity-75 flex justify-center items-center",children:(0,s.FD)("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[(0,s.Y)("h2",{className:"text-2xl font-bold mb-4",children:a}),(0,s.FD)("form",{onSubmit:d(e=>{t(e.message),o()}),className:"space-y-2",children:[(0,s.FD)("div",{children:[(0,s.Y)("textarea",{className:"w-full h-32 p-2 border rounded-md mb-2",placeholder:"Enter your message here...",...i("message")}),m.message&&(0,s.Y)("p",{className:"text-red-500 text-sm mt-1",children:m.message.message}),(0,s.FD)("p",{className:"text-sm text-gray-500 mb-4",children:[h?h.length:0,"/300 characters remaining"]})]}),(0,s.Y)("div",{className:"flex justify-end",children:(0,s.Y)(c,{className:"bg-[#2ec481] hover:bg-[#26a86b] text-white py-3 rounded-md font-medium",type:"submit",children:n?"Contact Us For Personalized Valuation":"Send Message"})})]})]})})}function B(e){var t,a,l;let{formData:n,onUpdateDescription:i,streetViewUrl:d}=e;console.log("ResultsPage rendered with formData:",n),console.log("Street View URL in ResultsPage:",d);let m=(null==(t=n.step3)?void 0:t.firstName)||"Friend",u=(null==(a=n.step1)?void 0:a.streetAddress)||"Your Property",p=new Date().getHours(),g="Good Day!";console.log("Greeting determined:",g=p<12?"Good Morning!":p<18?"Good Afternoon!":"Good Night!");let[h,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),[v,x]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[Y,F]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e;return console.log("Valuation status available in useEffect:",n.step1.valuationStatusAvailable),(!1===n.step1.valuationStatusAvailable||null===n.step1.valuationStatusAvailable)&&(console.log("Setting timeout for message popup (20 seconds) due to unavailable/null valuation."),e=setTimeout(()=>{f(!0)},2e4)),()=>{console.log("Clearing message popup timeout."),clearTimeout(e)}},[n.step1.valuationStatusAvailable]),console.log("ResultsPage - showMessagePopup:",h),console.log("ResultsPage - formData.step1.valuationStatusAvailable:",n.step1.valuationStatusAvailable),(0,s.Y)("div",{className:"min-h-[80vh] py-16 px-6 bg-cover bg-center",style:{backgroundImage:"url('https://truepricereport.s3.us-west-1.amazonaws.com/Homepagetruepricereportimage.jpeg')"},children:(0,s.FD)("div",{className:"max-w-6xl mx-auto bg-white bg-opacity-90 rounded-2xl p-8 shadow-lg flex flex-wrap justify-center gap-8",children:[(0,s.FD)("div",{className:"flex flex-col items-center md:items-start",children:[(0,s.FD)("div",{className:"mb-8",children:[(0,s.Y)(o.default,{src:"https://truepricereport.s3.us-west-1.amazonaws.com/truepricereportlogo.png",alt:"True Price Report",width:200,height:60}),(0,s.FD)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[g," ",m]}),(0,s.Y)("p",{className:"text-lg text-gray-700 mb-2",children:"Below is the TruePriceReport for:"}),(0,s.Y)("p",{className:"text-xl font-semibold text-gray-900",children:u})]}),(0,s.FD)("div",{className:"bg-white rounded-2xl p-8 shadow-lg w-full",children:[" ",(0,s.FD)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Your Home value ",!0===n.step1.valuationStatusAvailable?"(Estimated)":""]}),!0===n.step1.valuationStatusAvailable?(0,s.FD)("div",{className:"mb-8",children:[(0,s.Y)("span",{className:"text-5xl font-bold text-[#0f6c0c]",children:"$"}),(0,s.Y)("span",{className:"text-4xl font-bold text-gray-900 ml-2",children:null==(l=n.step1.priceEstimate)?void 0:l.replace("$","")})]}):(0,s.Y)("div",{className:"mb-8 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800 text-xl font-semibold",children:"Valuation unavailable through standard tools. This property requires manual analysis — contact us for a personalized valuation."}),!0===n.step1.valuationStatusAvailable&&(0,s.FD)("div",{className:"flex flex-wrap justify-center gap-3",children:[(0,s.Y)(c,{className:"w-full bg-[#2ec481] hover:bg-[#26a86b] text-white py-3 rounded-md font-medium",onClick:()=>{y("I am interested in getting a Cash Offer."),f(!0),x(!0)},disabled:v,children:"Get a Cash Offer"}),(0,s.Y)(c,{className:"w-full bg-[#2ec481] hover:bg-[#26a86b] text-white py-3 rounded-md font-medium",onClick:()=>{y("I am interested in Refinancing."),f(!0),w(!0)},disabled:N,children:"Refinance"}),(0,s.Y)(c,{className:"w-full bg-[#2ec481] hover:bg-[#26a46b] text-white py-3 rounded-md font-medium",onClick:()=>{y("I am interested in contacting a Real Estate Agent."),f(!0),F(!0)},disabled:Y,children:"Contact Real Estate Agent"})]})]}),d&&(0,s.FD)("div",{className:"mb-8 w-full md:w-auto flex-grow",children:[" ",(0,s.Y)("img",{src:d,alt:"Street View of the address",className:"shadow-md rounded-md w-full h-auto object-cover"})," "]})]}),(0,s.FD)("div",{className:"mt-8 bg-white rounded-2xl p-8 shadow-lg",children:[(0,s.Y)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Property Details"}),(0,s.Y)("p",{className:"mb-4",children:"Some properties require enhanced valuation tools due to unique characteristics or market activity. Contact us to learn more."}),(0,s.FD)("div",{className:"flex flex-wrap justify-center gap-4",children:[n.step2.beds&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step2.beds}),(0,s.Y)("div",{className:"text-gray-600",children:"Bedrooms"})]}),n.step2.baths&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step2.baths}),(0,s.Y)("div",{className:"text-gray-600",children:"Bathrooms"})]}),n.step2.yearBuilt&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step2.yearBuilt}),(0,s.Y)("div",{className:"text-gray-600",children:"Year Built"})]}),n.step2.squareFoot&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step2.squareFoot}),(0,s.Y)("div",{className:"text-gray-600",children:"Square Footage"})]}),n.step1.valuationStatusAvailable&&n.step1.lowEstimate&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step1.lowEstimate}),(0,s.Y)("div",{className:"text-gray-600",children:"Low Estimate"})]}),n.step1.valuationStatusAvailable&&n.step1.highEstimate&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step1.highEstimate}),(0,s.Y)("div",{className:"text-gray-600",children:"High Estimate"})]}),n.step2.unitNumber&&(0,s.FD)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.Y)("div",{className:"text-2xl font-bold text-[#0f6c0c]",children:n.step2.unitNumber||"-"}),(0,s.Y)("div",{className:"text-gray-600",children:"Unit Number"})]})]})]}),(0,s.Y)("div",{className:"mt-8 text-center",children:(0,s.Y)(c,{variant:"outline",onClick:()=>{console.log("Start Over button clicked. Reloading page."),window.location.reload()},className:"px-8 py-3",children:"Start Over"})}),h&&(0,s.Y)(M,{onUpdateDescription:e=>{console.log("Sending message to update description:",e),i("".concat(b," ").concat(e)),f(!1),console.log("Message sent and popup closed.")},popupTitle:!1===n.step1.valuationStatusAvailable||null===n.step1.valuationStatusAvailable?"Contact Us For Personalized Valuation":"Send a Message",onClose:()=>{console.log("Closing message popup."),f(!1)},defaultMessage:!1===n.step1.valuationStatusAvailable||null===n.step1.valuationStatusAvailable?"I am interested in a personalized valuation.":"",isValuationUnavailable:!1===n.step1.valuationStatusAvailable||null===n.step1.valuationStatusAvailable})]})})}function T(){let[e,t]=(0,r.useState)("hero"),[a,o]=(0,r.useState)({selectedAddress:"",latitude:void 0,longitude:void 0,streetViewUrl:null,step1:{streetAddress:"",city:"",state:"",country:"USA",zipcode:"",priceEstimate:void 0,lowEstimate:void 0,highEstimate:void 0,valuationStatusAvailable:null},step2:{beds:"",baths:"",yearBuilt:"",squareFoot:"",unitNumber:null},step3:{firstName:"",lastName:"",phone:"",email:""},unitNumbers:[]}),[l,n]=(0,r.useState)(null),i=e=>{console.log("updateFormData-mainFlowLog-Updating form data:",e),o(t=>({...t,...e}))},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("sendLeadToBrivity-mainFlowLog-Sending lead data to Brivity (isUpdate: ".concat(t,"):"),e);try{return console.error("sendLeadToBrivity-mainFlowLog-AWS API Gateway URL is not set. Please check NEXT_PUBLIC_AWS_API_GATEWAY_URL environment variable."),{success:!1,error:"AWS API Gateway URL not configured."}}catch(e){return console.error("sendLeadToBrivity-mainFlowLog-Error sending lead to Brivity via Proxy:",e),{success:!1,error:e}}},c=async e=>{console.log("handleStep1NextSubmit-mainFlowLog-Attempting to fetch property info for Step 1 CONFIRM button:",e),console.log("handleStep1NextSubmit-mainFlowLog-streetAddress from Step 1 CONFIRM button:",e.streetAddress),m();try{return console.error("handleStep1NextSubmit-mainFlowLog-CoreLogic API Gateway URL is not set. Please check NEXT_PUBLIC_CORELOGIC_API_GATEWAY_URL environment variable."),alert("Property estimation service not configured."),{success:!1,error:"CoreLogic API Gateway URL not configured."}}catch(e){return console.error("handleStep1NextSubmit-mainFlowLog-Error fetching property info via CoreLogic proxy:",e),alert("Error fetching property estimate."),{success:!1,error:e}}},m=()=>{console.log("goToStep2-mainFlowLog-Navigating to Step 2."),t("step2")};switch(e){case"hero":default:return(0,s.Y)(p,{onAddressSubmit:(e,s,r)=>{console.log("handleAddressSubmit-mainFlowLog-Address submitted from HeroSection:",e,"Place Details:",s,"Street View URL:",r);let l={...a.step1,streetAddress:e};s?(l={streetAddress:"".concat(s.streetNumber," ").concat(s.route).trim()||e,city:s.city||"",state:s.state||"",country:s.country||"USA",zipcode:s.zipcode||"",unitNumber:s.unitNumber||"",valuationStatusAvailable:null},o(t=>({...t,selectedAddress:e,latitude:s.latitude,longitude:s.longitude,streetViewUrl:r,step1:l}))):o(t=>({...t,selectedAddress:e,streetViewUrl:r,step1:l})),t("step1"),console.log("handleAddressSubmit-mainFlowLog-Moved to Step 1 after address submission.")}});case"step1":return(0,s.Y)(F,{formData:a,updateFormData:i,onNext:m,selectedAddress:a.selectedAddress,updateSelectedAddress:e=>{console.log("updateSelectedAddress-mainFlowLog-Updating selected address:",e),o(t=>({...t,selectedAddress:e}))},onStep1NextSubmit:c,streetViewUrl:a.streetViewUrl,onAddressUpdate:e=>{console.log("handleAddressUpdate-mainFlowLog-Address data updated (latitude, longitude, streetViewUrl):",e),o(t=>({...t,...e}))}});case"step2":return(0,s.Y)(_,{formData:a,updateFormData:i,onNext:()=>{console.log("goToStep3-mainFlowLog-Navigating to Step 3."),t("step3")},onPrevious:()=>{console.log("goToStep1-mainFlowLog-Navigating to Step 1."),t("step1")},selectedAddress:a.selectedAddress,latitude:a.latitude,longitude:a.longitude,unitNumbers:a.unitNumbers,streetViewUrl:a.streetViewUrl});case"step3":return(0,s.Y)(j,{formData:a,updateFormData:i,onSubmit:()=>t("results"),onPrevious:()=>{console.log("goToStep2FromStep3-mainFlowLog-Navigating to Step 2 from Step 3."),t("step2")},selectedAddress:a.selectedAddress,latitude:a.latitude,longitude:a.longitude,streetViewUrl:a.streetViewUrl,sendLeadToBrivity:d});case"results":return console.log("MainFlowLog - Rendering ResultsPage with streetViewURL:",a.streetViewUrl),(0,s.Y)(B,{formData:a,onUpdateDescription:e=>{console.log("handleUpdateDescription-mainFlowLog-Attempting to update lead description with:",e),d({email:a.step3.email,description:e},!0)},streetViewUrl:a.streetViewUrl})}}}},e=>{e.O(0,[853,217,73,441,964,358],()=>e(e.s=2937)),_N_E=e.O()}]);